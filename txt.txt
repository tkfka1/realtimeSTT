앞서 AWS 아키텍처 설계 심화 시간에 진행을 했었는데 이번에는 자격증  
공략하기 진행해 보도록 할게요

 이 area는 associate 시험을 기반으로 제가 좀 토픽들을 나눠봤어요 그래서 첫번째로 첫번째 파트에서 진행하게 될 부분
은 보안 아키텍처 설계입니다 그 중에 이제 출제율이 높은 편인 계정 액세스 제어 및 관리 진행해 보도록 하겠습니다    

 진행은 이런 식으로 제가 먼저 문제를 보여드리고 그 문제에서 나오는 개념들과 함께 정답 풀이를 설명해드리는 방식으
로 진행을 해보도록 할게요.

 먼저 이거는 프로페셔널 시험입니다. 그 어소시에이트 같은 경우에는 단순한 AWS 서비스들에 대한 기본 개념에 대한 문
제가 많이 나와요. 그거에 비해서 프로페셔널은 어떤 상황을 주고 그 상황을 해석을 해서 진짜 좀 아키텍처적으로 문제를
 해결하는 방식의 문제들이 많이 출제가 됩니다. 그렇기 때문에 좀 문제가 길어요. 그래서 문제에서 핵심 키워드를 파악 
하는 것이 가장 공략하는 방법 중에 기본이라고 볼 수 있어요. 저희 이제 계정 액세스 제어 및 관리에서 계정 관련된 문 
제 하나를 보도록 하겠습니다.

 한 회사가 여러 리전의 AWS 리소스를 사용해서 웹 어플리케이션을 배포를 했어요. 그리고 이 회사에 이제 외부 감사가 
예정되어 있는 거예요. 그러면 운영팀은 AWS의 오딧 관리자를 통해서 오딧 매니저를 통해서 모든 평가 보고서를 수집하고
 있는데요. 이 팀은 AWS 클라우드 외부에서 생성되고 오딧의 일부가 되어야 하는 물리적인 기록을 업로드를 해야 합니다.
 최종평가 보고서는 외부 감사자에게 공유가 되어야 돼요. 이런 상황에서 어떠한 솔루션을 설계할 수 있냐 라는 질문이고
요. 그렇게 되면 우리는 이제 두 가지의 서비스를 사용해야 한다는 것을 알고 있어요. 이미 AWS Audit Manager를 사용하 
고 있고요. 그리고 이러한 평가 보고서를 저장하고 업로드할 수 있는 서비스 맞습니다. 아마존 S3 이렇게 두 가지를 생각
을 해주셔야겠죠. 그래서 이제 감사 오디 보고서를 S3에 올리고 그거를 공유할 거야 정도의 생각을 해주시고 보기를 보도
록 하겠습니다. 먼저 A 수동 증거를 공유할 거예요.

 오딧 증거를 아마존 S3 버킷에 업로드합니다. 그리고 AWS 오딧 매니저 스토리지에서 각 리전의 오딧 데이터를 검색을 합
니다. 그리고 AWS의 오딧 매니저에서 평가 보고서를 생성하고 아마존 S3에 저장해서 외부 감사자와 공유, 공유를 합니다.
 두번째, 수동 증거를 AWS 오딧 매니저 스토리지에 업로드를 합니다.

 이 단일 아마존 S3 버킷에 모든 지역에 대한 통합증거를 검색을 하고요. AWS 오딘 매니저에서 평가 보고서를 생성하고 
아마존 S3에 저장해서 외부 감사자와 공유합니다.

 그리고 바로 다음 걸로 넘어가 볼게요. C. 수동 증거를 AWS Odin 매니저에 업로드합니다.

 이 부분은 일단 뒤에서 설명드리고, 뒤에는 일단 읽지 않고 넘어가도록 하겠습니다.

 수동 증거를 아마존 S3 버킷에 업로드합니다. 각 리전의 AWS 아마존 S3 버킷에서 증거 데이터를 검색합니다.

 AWS Odin 매니저에서 평가 보고서를 생성하고 AWS Odin 매니저 스토리지에 저장해서 외부 감사자와 공유합니다.

 자, 여러분 정답은

 A입니다.

 일단 AWS 오딘 매니저를 사용해서 AWS 사용량을 지속적으로 감사하고 또 규정이나 업계 표준을 준수하고 위험을 관리할 
수 있어요.

 Odin 매니저 같은 경우는 자동으로 증거를 수집할 수 있지만 AWS 클라우드에서 생성되지 않은 이벤트에 대한 증거를 수
동으로 업로드하는 기능을 제공합니다. 그래서 이 경우에는 AWS Odin 매니저를 사용하는 게 맞고요. 그리고 제가 아까 C 
를 그냥 넘어갔잖아요. Odin 매니저 같은 경우에는 수동 증거를 업로드를 하려면 파일을 S3 버킷에 올려야 돼요.        

 그래서 이제 그

 관리감사평가자는 평가에 업로드를 해주셔야 되고 증거 데이터는 AWS 감사아크 오딘 매니저에서 직접 검색하실 수가 있
어요 그리고 평가 보고서도 오딘 매니저에서 생성하고 아마존 S3 버킷에 저장해서 감사자와 공유할 수 있습니다

 하지만 이 수동증거를 아마존 오딘 매니저 스토리지에 직접 팔 수가 없어요 그렇기 때문에 이제 옵션 B는 올바르지 않고
요 그리고 역시 수동증거를 아마존 오딘 매니저 스토리지에 직접 업로드 할 수 없기 때문에 C도 이제 잘못됐죠 그리고 마
지막으로 이제 오딘 매니저 스토리지 증거 데이터를 직접 검색할 수 없으므로 아 오딘 매니저에서 직접

 그 증거 데이터를 검색할 수 있기 때문에 옵션 D는 올바르지 않습니다. 이런 식으로 그 문제에서 해당하는 요구 사항들
을 빨리 파악한 다음에 해당 서비스를 미치를 시키고 그 서비스의 특징들을 떠올리셔서 예를 들어서 AWS Odin 매니저는  
스토리지에 직접 업로드가 불가능하다. 이런 식으로 남은 무기들을 제거해 나가다 보면 가장 적절한 솔루션을 사용한    

 솔루션을 사용한 옵션을 찾을 수가 있습니다.

 이 문제도 되게 자주 나오는 문제예요. 이 계정 액세스 제어 관리는 이제 프로페셔널 시험이나 어소시에이트 시험 두 개
에서도 되게 자주 출제가 되는 부분이고요.

 하나 더 살펴보도록 하겠습니다.

 회사에 여러 개의 AWS 계정이 있어요. 근데 최근에 계정 하나에서 구성 오류가 발생돼서 중단이 발생했어요.

 조사 결과 구성을 변경한 AWS IAM 교차계정 역할이 있는 것으로 나타났어요. 그래서 문제는 해결이 되었는데 운영 책임
자가 교차계정 역할이 수행한 변경사항을 가장 효율적인 방법으로 분석하고 모니터링하는 데 도움이 되는 솔루션을 찾고 
있어요.

 교차 계정 역할에 의해 수행된 활동을 추적해야 돼요. 이를 위해서 어떤 솔루션을 제안할 수가 있을까요? 일단 여기서는
 조금 혼란스러운 부분이 많이 나와요. 멀티 회사의 여러 AWS 계정이 있다. AWS IEM 교차 계정 역할이 있다. 이런 약간  
어려운...

 부분들이 있는데 이런 걸 다 무시하시고 가장 기본에 집중하세요.

 어떤 역할에 의해서 어떤 사용자에 의해서 수행된 활동을 추적해야 돼요. 그런 뭘 사용해야 돼요?

 맞습니다. CloudTrail 입니다.

 보기를 확인해보도록 하겠습니다. a, AWS 클라우드 트레일 로그를 사용해서 AWS IAM 역할을 수행하는 모든 활동을 추적
합니다. 아마존 S3 버킷에 AWS 클라우드 트레일 로그를 저장하고요. 활동을 수행하는 특정 교차 계정 역할을 결정하기 위
해서 로그를 분석합니다.

 2번 아마존 가드 듀티를 활성화하고 아마존 디텍티브와 함께 가드 듀티 결과를 사용해서 활동을 수행하는 특정 교차 개
정 역할을 결정합니다.

 3번 AWS 클라우드 트레일 이벤트 기록을 사용해서 이벤트를 검색합니다.

 이벤트를 분석해서 활동을 수행하는 특정 교차 개정 역할을 결정합니다.

 4번 아마존 클라우드 워치 로그인 사이트를 사용하십시오. 활동을 수행하는 특정 교차의 개정 역할을 결정하기 위해 로
그를 분석합니다.

 정답은

 B입니다. 먼저 제가 앞서서 클라우드 트레일 오딧을 트래킹하기 위해서는 클라우드 트레일을 사용해야 한다고 말씀을 드
렸어요.

 하나씩 살펴보도록 할게요. 먼저 옵션 A는 클라우드 트레일 로그를 아마존 S3 버킷에 저장하는 데 필요하기 때문에 올바
르지가 않습니다.

 또한 이러한 로그를 분석하려면 여러 계정의 로그를 연관시키기 때문에 추가 작업이 많이 발생하게 돼요.

 Aawwww.......

 그렇기 때문에 이 옵션도 맞지만 추가 관리 작업이 일단 발생한다는 부분을 기억을 해주세요.

 그리고 옵션C를 살펴볼게요. 이런 이벤트들을 분석을 하려면 여러 개정의 이벤트를 연관시켜야 하기 때문에 추가 관리 
작업이 필요하게 됩니다.

 옵션 D는요, 클라우드 트레일이 활성화되, 아마존 AWS 클라우드 트레일이 활성화되게 되고 아마존 클라우드 워치 로그에
 기록하도록 구성된 경우에만 작동하기 때문에 올바르지가 않아요. 그리고 이러한 로그를 분석하려면 여러 계정의 로그를
 연관시켜야 하기 때문에 추가 관리 작업이 필요합니다.

 제가 이제 공통적으로 틀린 옵션 3개에 대해서 말씀을 드릴 때 추가 작업이 필요하게 된다고 말씀을 드렸어요.

 and important edgeware.